# 🌍 Internationalization (i18n)

> Internationalization (i18n) is the process of designing and preparing your app to be usable in different languages and
> regions.

## 📚 Resources

- [🤖 I18Next](https://github.com/i18next/next-i18next)

## 💡 How to use i18n

### ⚠️ Requirements

- **Install the following packages** using `pnpm` or `npm`:

```bash
pnpm i i18next next-i18next react-i18next
```

- Create a new file called `next-i18next.config.js` in the root of your project and add the following configuration:

```js
module.exports = {
  i18n: {
    defaultLocale: "en", // Default locale
    locales: ["en", "fr"], // Add more locales here
  },
  localePath:
    typeof window === "undefined"
      ? // eslint-disable-next-line @typescript-eslint/no-var-requires
        require("path").resolve("./public/locales") // Path to the locales folder
      : "/locales",
}
```

- Update your `next.config.js` file to include the following configuration:

```js
const { i18n } = require("./next-i18next.config.js")

const nextConfig = {
  /* ... */
  i18n,
  /* ... */
}

module.exports = nextConfig
```

- Encompass your application with the `appWithTranslation` higher-order component:

```tsx
import { appWithTranslation } from "next-i18next"

const MyApp = ({ Component, pageProps }: AppProps) => {
  return <Component {...pageProps} />
}

export default appWithTranslation(MyApp)
```

### 🛠 Usage

- Create a new folder called `locales` in the `public` folder of your project.
- Create sub-folders for each language you want to support, for example `en`, `fr`.
- In these folders create `.json` files which have exactly the **same name**, for starters create a `common.js` file in
  each of them.

> en/common.json

```json
{
  "title": "Welcome to Instamint"
}
```

> fr/common.json

```json
{
  "title": "Bienvenue sur Instamint"
}
```

- Now you can use the `useTranslation` hook to translate your application:

```tsx
import { serverSideTranslations } from "next-i18next/serverSideTranslations"
import { useTranslation } from "next-i18next"

export const getServerSideProps: GetServerSideProps = async (context) => {
  const { locale } = context

  return {
    props: {
      ...(await serverSideTranslations(locale!, ["common"])),
    },
  }
}

const Home = () => {
  const { t } = useTranslation("common")

  return (
    <>
      <Head>
        <title>Instamint</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className="flex h-screen items-center justify-center">
        <h1 className="text-6xl font-bold">{t("title")}</h1>
      </main>
    </>
  )
}

export default Home
```
